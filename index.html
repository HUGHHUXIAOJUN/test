<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="div">
        <div>复制ssssssaaaas</div>
    </div>
</body>

</html>
<script>
    let div = document.querySelector('.div');
    div.onclick = copy2
    function copy() {
        let range = document.createRange();
        range.selectNode(this)
        let selection = window.getSelection();
        if (selection.rangeCount > 0) selection.removeAllRanges();
        selection.addRange(range);
        console.log(range, selection)
        let result = document.execCommand("copy")
        console.log(result, result ? 1 : 2)
    }
    function copy2(params) {
        let textarea = document.createElement('textarea');
        textarea.value = '222';
        document.body.appendChild(textarea)
        textarea.select();
        textarea.setSelectionRange(0, '222'.length);

        let result = document.execCommand('copy');
        textarea.remove()
    }
    let xhr=window.XMLHttpRequest?new XMLHttpRequest():ActiveXObject('microsoft.XMLHttp');
    xhr.open('GET', 'http://192.168.2.141:8082/', true);
    xhr.onreadystatechange=function() {
        if(xhr.readyState==4&&xhr.status===200){
           // let data=JSON.parse(xhr.responseText);
            console.log(xhr)
        }    
    }
    // xhr.upload.addEventListener('progress', function (e) {
    //    //Math.round((e.loaded * 100) / e.total);
    // }, false);
    //xhr.abort()
    // if (type.toLowerCase() === 'post') {
    //     //给指定的HTTP请求头赋值
    //     xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
    // }
    xhr.send()


    function Ajax(url,data,type='GET'){
        return new Promise((resolve,reject)=>{
            let xhr = window.XMLHttpRequest?new XMLHttpRequest(): ActiveXObject('mircosoft.XMLHttp');
            xhr.open(type,url,true);
            xhr.onreadystatechange = function(){
                if(this.readyState!==4) return
                this.status===200?resolve(this.response):reject(this.statusText)
            }
            if(type.toLowerCase=='post'){xhr.setRequestHeader('content-type','application/x-www-form-urlencoded')}
            xhr.send()
        })
    }
</script>